//! moment-holiday.js
//! version : 1.5.1
//! author : Kodie Grantham
//! license : MIT
//! https://github.com/kodie/moment-holiday
(function(){function c(e,t,r){for(var a,n=[],o=0;o<x.length;o++){var i=x[o](e,t);!i&&!1!==i||(a=i)}if(!1===a)return!1;if("string"==typeof a?t=a:a&&(n=a),!M.isMoment(n)&&!n.length&&t.charAt(0).match(/[0-9(]/)){var s=!1,d=t.split("|");1<d.length&&(s=!0),2<d.length&&(d=[d[0],d[1]]);for(o=0;o<d.length;o++){var l=M(e),h=d[o].split("/");if(1===h.length||2===h.length&&"("!==h[1].charAt(0)&&4===h[1].length){var y=d[o];o=-1,d=[];for(var f=1;f<13;f++)d.push(f+"/"+y)}else if(2<h.length&&l.year(parseInt(h[2])),l.month(parseInt(h[0])-1),"("===h[1].charAt(0)){var u=h[1].slice(1,-1).split(","),c=parseInt(u[0]),v=parseInt(u[1]),g=M(l).startOf("month"),p=M(l).endOf("month").diff(g,"days")+1,k=[];if(u[1]&&"["===u[1].charAt(0)){var m=!0;(v=parseInt(u[1].slice(1,-1)))<0&&(m=!1,v=parseInt(u[1].slice(2,-1))),g=M(l).date(v);for(var w=0;w<7;w++){if(g.day()===c){n.push(M(g));break}m?g.add(1,"day"):g.subtract(1,"day")}}else{for(var b=0;b<p;b++)g.day()===c&&k.push(M(g)),g.add(1,"day");v?(l=v<0?k[k.length+v]:k[v-1],n.push(l)):n=n.concat(k)}}else n.push(l.date(h[1]))}if(s&&1<n.length){var _=n[1].diff(n[0],"days");if(1<_)for(var O=M(n[0]),n=[n[0]],o=0;o<_;o++)O.add(1,"day"),n.push(M(O))}}for(n=j(n),o=0;o<n.length;o++)M.isMoment(n[o])?(r&&(0===n[o].day()&&(n[o]=n[o].add(1,"day")),6===n[o].day()&&(n[o]=n[o].subtract(1,"day"))),n[o]=n[o].startOf("day")):delete n[o];return!!n.length&&(1===n.length?n[0]:n)}function v(e,t){var r=[];t=j(t);for(var a=0;a<t.length;a++){var n=e.match(new RegExp(t[a],"gi"));n&&(r=r.concat(n))}return r}function l(e,t,r,a,n){var o={},i=[],s={};if(h=n||M.holidays.active,h.hasOwnProperty(t))i.push(t);else if(fk=p(t,h))i.push(fk);else{for(var d in h)if(h.hasOwnProperty(d)){if(o[d]=v(t,d.split(/[\s,.-]+/).filter(function(e){return 2<e.length})).length,h[d].keywords_n)if(v(t,h[d].keywords_n).length){o[d]=0;continue}if(h[d].keywords_y){var l=v(t,h[d].keywords_y);if(!l||l.length!==h[d].keywords_y.length){o[d]=0;continue}o[d]+=l.length}!h[d].keywords||(l=v(t,h[d].keywords))&&(o[d]+=l.length)}for(var y in o)o[y]&&o.hasOwnProperty(y)&&(i.length&&o[y]!==o[i[0]]?o[y]>o[i[0]]&&(i=[y]):i.push(y))}if(!i.length)return!1;if(!1===a)return i;for(var f=0;f<i.length;f++){var u=c(e,h[i[f]].date,r);u&&(s[i[f]]=u)}return!!Object.keys(s).length&&s}function y(e,t,r,a,n){var o=a?{}:[];t=j(t),n=n||M.holidays.active;for(var i=0;i<t.length;i++){var s=l(e,t[i],r,a,n);s&&(o=a?u(o,s):o.concat(s))}return o}function g(e,t){var r,a=M.holidays.active,n={};for(r in a)a.hasOwnProperty(r)&&(td=c(e,a[r].date,t))&&(n[r]=td);return n}function f(e){if(regions=e.split("/"),e=regions[0].toLowerCase().replace(" ","_"),regions.shift(),!M.holidays[e])try{var t="./locale/";"build"==__dirname.split("/").slice(-1).pop()&&(t="."+t),require(t+e)}catch(e){}return!!M.holidays[e]&&(regions.length?function(e,t){var r=M.holidays[e],a={};if(r)for(var n=0;n<t.length;n++){var o,i,s,d=t[n].toLowerCase(),l=M.holidays[e+"/"+d],l={};for(o in r)r.hasOwnProperty(o)&&(i=r[o].regions||[],s=r[o].regions_n||[],i.length&&i.join().toLowerCase().split(),s.length&&s.join().toLowerCase().split(),(!i.length&&!s.length||i.length&&~i.indexOf(d)||s.length&&!~s.indexOf(d))&&(l[o]=r[o]));l&&(a=u(a,l))}return!!Object.keys(a).length&&a}(e,regions):M.holidays[e])}function r(e,t,r,a){t=t||1;for(var n=g(e,a),o=M(e),i=e.year(),s=[],d=0;d<t;d++)for(var l=M(o);;){var h,y=!1;if(r?l.add(1,"day"):l.subtract(1,"day"),l.year()!==i&&(n=g(l,a),i=l.year()),!Object.keys(n).length){y=!0;break}for(h in n)if(n.hasOwnProperty(h)){for(var f=!1,u=j(n[h]),c=0;c<u.length;c++)if(l.isSame(u[c],"day")){s.push(u[c]),o=M(l),f=!0;break}if(f){y=!0;break}}if(y)break}return!!s.length&&(1===s.length?s[0]:s)}var M=require("moment"),x=[],j=function(e){return e&&e.constructor!==Array?[e]:e},p=function(e,t){t.constructor===Object&&(t=Object.keys(t));for(var r=0;r<t.length;r++)if(e.toLowerCase()===t[r].toLowerCase())return t[r];return!1},u=function(e,t){return Object.assign({},e,t)};M.fn.holiday=function(e,t){M.holidays.active;var r={},a=!1;if(e){e.constructor!==Array&&(a=!0,e=[e]);for(var n=0;n<e.length;n++)(td=l(this,e[n],t))&&(r=Object.assign({},r,td))}else r=g(this,t);var o=Object.keys(r);return!!o.length&&(1===o.length&&a?r[o[0]]:r)},M.fn.holidays=function(e,t){return this.holiday(e,t)},M.fn.isHoliday=function(e,t){var r,a,n=[],o=e?(e=j(e),r=this.holiday(e,t),!1):(r=g(this,t),!0);if(!r)return!1;for(a in r)if(r.hasOwnProperty(a))for(var i=j(r[a]),s=0;s<i.length;s++)if(this.isSame(i[s],"day")){if(!o)return!0;n.push(a)}return!!n.length&&(1===n.length?n[0]:n)},M.fn.previousHoliday=function(e,t){return r(this,e,!1,t)},M.fn.previousHolidays=function(e,t){return this.previousHoliday(e,t)},M.fn.nextHoliday=function(e,t){return r(this,e,!0,t)},M.fn.nextHolidays=function(e,t){return this.nextHoliday(e,t)},M.fn.holidaysBetween=function(e,t){e=e||new Date,e=M(e).subtract(1,"day");for(var r=g(this,t),a=M(this),n=a.year(),o=[],i=0;i<e.diff(this,"days")&&(a.add(1,"day"),a.year()!==n&&(r=g(a,t),n=a.year()),Object.keys(r).length);i++)for(var s in r){for(var d=!1,l=j(r[s]),h=0;h<l.length;h++)if(a.isSame(l[h],"day")){o.push(l[h]),d=!0;break}if(d)break}return!!o.length&&o},M.holidays={active:{},active_last:{}},M.modifyHolidays={set:function(e,t){var r={};if(e.constructor===Array){for(var a=[],n=0;n<e.length;n++){var o=l(this,e[n],null,!1);o&&(a=a.concat(o))}if(a.length)for(var i in r=u(M.holidays.active))r.hasOwnProperty(i)&&(~a.indexOf(i)||delete r[i])}else if("string"==typeof e){var s=f(e);if(s)if(t)for(var d=y(this,t,!1,!1,s),n=0;n<d.length;n++)r[d[n]]=u(s[d[n]]);else r=u(s)}else r=e;return!Object.keys(r).length&&e!==r||Object.is(M.holidays.active,r)||(M.holidays.active_last=u(M.holidays.active),M.holidays.active=r),this},add:function(e,t){if("string"==typeof e){var r=f(e);if(e={},r)if(t)for(var a=y(this,t,!1,!1,r),n=0;n<a.length;n++)e[a[n]]=u(r[a[n]]);else e=r}return Object.keys(e).length&&(M.holidays.active_last=u(M.holidays.active),M.holidays.active=u(M.holidays.active,e)),this},remove:function(e){e=j(e);var t=y(this,e,!1,!1),r=u(M.holidays.active);if(t)for(var a=0;a<t.length;a++)delete r[t[a]];return Object.is(M.holidays.active,r)||(M.holidays.active_last=u(M.holidays.active),M.holidays.active=r),this},undo:function(){var e=u(M.holidays.active);return M.holidays.active=u(M.holidays.active_last),M.holidays.active_last=e,this},load:function(e){e=j(e);for(var t=0;t<e.length;t++)f(e[t]);return this},extendParser:function(e){return x.push(e),this}},null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)&&(module.exports=M)}).call(this),
//! moment-holiday.js locale configuration
//! locale : UK
//! author : Kodie Grantham : https://github.com/kodie
//! locale-author: DMCooper : https://github.com/SilentGamelan
function(){var e=require("moment");e.holidays.united_kingdom={"New Year's Day":{date:"1/1",keywords_n:["eve"]},"Good Friday":{date:"easter-2",keywords_y:["good","friday"]},"Easter Sunday":{date:"easter",keywords_y:["easter"],keywords:["sunday"]},"Easter Monday":{date:"easter+1)",keywords_y:["easter"],keywords:["monday"],regions:["EN","NI","WL"]},"Early May Bank Holiday":{date:"5/(1,1)",keywords_y:["may"],keywords:["spring","early","may"]},"Spring Bank Holiday":{date:"5/(1,-1)",keywords:["bank","spring","late"]},"Summer Bank Holiday":{date:"8/(1,-1)",keywords:["summer","bank"],keywords_n:["scottish","scotland"],regions:["EN","WL","NI"]},"Christmas Day":{date:"12/25",keywords:["christ","x-?mas"],keywords_n:["eve"]},"Boxing Day":{date:"12/26",keywords:["box"]}},null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)&&(module.exports=e)}.call(this),
//! moment-holiday.js locale configuration
//! locale : Easter Related Holidays
//! author : Kodie Grantham : https://github.com/kodie
function(){var o="undefined"==typeof require||null===require||require.amd?this.moment:require("moment");o.holidays.easter={"Ash Wednesday":{date:"easter-46"},Lent:{date:"easter-46|easter-3"},"Maundy Thursday":{date:"easter-3",keywords_y:["maundy","thursday"]},"Good Friday":{date:"easter-2",keywords_y:["good","friday"]},"Holy Saturday":{date:"easter-1",keywords_y:["holy","saturday"]},"Easter Sunday":{date:"easter",keywords_y:["easter"],keywords:["sunday"]},"Easter Monday":{date:"easter+1",keywords_y:["easter","monday"]},"Ascension Day":{date:"easter+39"},"Pentecost Sunday":{date:"easter+49",keywords_y:["pentecost"],keywords:["sunday"]},"Whit Monday":{date:"easter+50",keywords_y:["whit"],keywords:["monday"]},"Corpus Christi":{date:"easter+60",keywords:["feast"]}};o.modifyHolidays.extendParser(function(e,t){if(~t.indexOf("easter")){var r=t.split("|"),a=[];for(i=0;i<r.length;i++)if("easter"===r[i].substring(0,6)){var n=function(e){var t=Math.floor(e/100),r=e-19*Math.floor(e/19),a=Math.floor((t-17)/25),a=t-Math.floor(t/4)-Math.floor((t-a)/3)+19*r+15;a-=30*Math.floor(a/30),a-=Math.floor(a/28)*(1-Math.floor(a/28)*Math.floor(29/(1+a))*Math.floor((21-r)/11));t=e+Math.floor(e/4)+a+2-t+Math.floor(t/4),a-=t-=7*Math.floor(t/7),t=3+Math.floor((40+a)/44),a=28+a-31*Math.floor(t/4);return o([e,t-1,a])}(e.year());if("-"===r[i].charAt(6)&&n.subtract(r[i].substring(7),"days"),"+"===r[i].charAt(6)&&n.add(r[i].substring(7),"days"),1===r.length)return n;a.push(n.format("M/D"))}else a.push(r[i]);if(a.length)return a.join("|")}}),null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)&&(module.exports=o)}.call(this),
//! Set default locales
function(){require("moment").modifyHolidays.add("united_kingdom")}.call(this);
//# sourceMappingURL=moment-holiday-uk.min.js.map
